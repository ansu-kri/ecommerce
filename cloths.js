let productData = [
    {
        brand: "Puma",
        name: "selena floral FileList",
        price: "2000",
        size: "X,XX,XXL",
        productID: "women1",
        catagory: "Casual",
        img: "https://m.media-amazon.com/images/I/61UnvCo4JoL._AC_UL480_FMwebp_QL65_.jpg",
    },
    {
        brand: "Gap",
        name: "balck bella",
        price: "1347",
        size: "X,M,L,XX,XXL",
        productID: "women2",
        catagory: "festive",
        img: "https://m.media-amazon.com/images/I/81pdJlAT3GL._AC_UL480_FMwebp_QL65_.jpg",
    },
    {
        brand: "Puma",
        name: "chil pill supersoft palysuit",
        price: "799",
        size: "M,L,XX,XXS",
        productID: "women3",
        catagory: "party",
        img: "https://m.media-amazon.com/images/I/61WG5Gl3KbL._AC_UL480_FMwebp_QL65_.jpg",
    },
    {
        brand: "Gap",
        name: "plus size womens",
        price: "2000",
        size: "X,M,L,XXS,XXL",
        productID: "women4",
        catagory: "formal",
        img: "https://m.media-amazon.com/images/I/71V8nzp-04L._AC_UL480_FMwebp_QL65_.jpg",
    },
    {
        brand: "Bady Moo",
        name: "balck bella",
        price: "1347",
        size: "X,M,L",
        productID: "women5",
        catagory: "workout",
        img: "https://m.media-amazon.com/images/I/715WT7FfiDL._AC_UL480_FMwebp_QL65_.jpg",
    },
    {
        brand: "Pepe jeans",
        name: "plus size womens",
        price: "979",
        size: "XXS,M,L",
        productID: "women6",
        catagory: "travel",
        img: "https://m.media-amazon.com/images/I/61dEvk7tdJL._AC_UL480_FMwebp_QL65_.jpg",
    },
    {
        brand: "Puma",
        name: "chil pill supersoft palysuit",
        price: "2000",
        size: "XXL,M,L",
        productID: "women7",
        catagory: "sports",
        img: "https://m.media-amazon.com/images/I/71q6jdu5veL._AC_UL480_FMwebp_QL65_.jpg",
    },
    {
        brand: "Gap",
        name: "chil pill supersoft palysuit",
        price: "1347",
        size: "X,M,L,XX",
        productID: "women8",
        catagory: "Casual",
        img: "https://m.media-amazon.com/images/I/71jJ0Pimj+L._AC_UL480_FMwebp_QL65_.jpg",
    },
    {
        brand: "Bady Moo",
        name: "balck bella",
        price: "976",
        size: "XS,M,L,XX",
        productID: "women9",
        catagory: "festive",
        img: "https://m.media-amazon.com/images/I/71ucYo56QjL._AC_UL480_FMwebp_QL65_.jpg",
    },
    {
        brand: "Gap",
        name: "woman cotton off white",
        price: "456",
        size: "X,L,XX",
        productID: "women10",
        catagory: "party",
        img: "https://m.media-amazon.com/images/I/91OEo7+MiEL._AC_UL480_FMwebp_QL65_.jpg"
    },
    {
        brand: "Bee bay",
        name: "woman cotton off white",
        price: "986",
        size: "M,L,XXS",
        productID: "women11",
        catagory: "formal",
        img: "https://m.media-amazon.com/images/I/71nTXmLElZL._AC_UL480_FMwebp_QL65_.jpg",
    },
    {
        brand: "Kaniroot",
        name: "chill pill supersoft",
        price: "567",
        size: "S,M,L,XXl",
        productID: "women12",
        catagory: "workout",
        img: "https://m.media-amazon.com/images/I/71FShnOAEeL._AC_UL480_FMwebp_QL65_.jpg",
    },
    {
        brand: "Bee bay",
        name: "Curev multi-Color",
        price: "765",
        size: "S,X,L,XXl",
        productID: "women13",
        catagory: "travel",
        img: "https://m.media-amazon.com/images/I/71S97xQwZ+L._AC_UL480_FMwebp_QL65_.jpg",
    },
    {
        brand: "Gap",
        name: "Mega striple",
        price: "9999",
        size: "S,M,X,XXL",
        productID: "women14",
        catagory: "sports",
        img: "https://m.media-amazon.com/images/I/71GARecIeZL._AC_UL480_FMwebp_QL65_.jpg",
    },
    {
        brand: "Puma",
        name: "balck bella",
        price: "1347",
        size: "S,M,X,XXL",
        productID: "women15",
        catagory: "Casual",
        img: "https://m.media-amazon.com/images/I/81n53qbmfNL._AC_UL480_FMwebp_QL65_.jpg",
    },
    {
        brand: "Kaniroot",
        name: "chil pill supersoft palysuit",
        price: "799",
        size: "S,M,L,XXL",
        productID: "women16",
        catagory: "festive",
        img: "https://m.media-amazon.com/images/I/71psDStodRL._AC_UL480_FMwebp_QL65_.jpg",
    },
    {
        brand: "Puma",
        name: "plus size womens",
        price: "2000",
        size: "S,XX",
        productID: "women17",
        catagory: "party",
        img: "https://m.media-amazon.com/images/I/41TpiwGOWoS._AC_UL480_FMwebp_QL65_.jpg",
    },
    {
        brand: "Gap",
        name: "balck bella",
        price: "1347",
        size: "S,M,XX,XXL",
        productID: "women18",
        catagory: "formal",
        img: "https://m.media-amazon.com/images/I/71ukw8MLIIL._AC_UL480_FMwebp_QL65_.jpg",
    },
    {
        brand: "Bee bay",
        name: "plus size womens",
        price: "979",
        size: "M,XXL,XX",
        productID: "women19",
        catagory: "workout",
        img: "https://m.media-amazon.com/images/I/71w0rqm1vDL._AC_UL480_FMwebp_QL65_.jpg",
    },
    {
        brand: "Puma",
        name: "chil pill supersoft palysuit",
        price: "2000",
        size: "M,X,L,XXL",
        productID: "women20",
        catagory: "travel",
        img: "https://m.media-amazon.com/images/I/51EeUJynUXL._AC_UL480_FMwebp_QL65_.jpg",
    },
    {
        brand: "Puma",
        name: "chil pill supersoft palysuit",
        price: "1347",
        size: "M,L,XXL",
        productID: "women21",
        catagory: "sport",
        img: "https://m.media-amazon.com/images/I/71tgc9X-usL._AC_UL480_FMwebp_QL65_.jpg",
    },
    {
        brand: "Gap",
        name: "balck bella",
        price: "976",
        size: "S,XX",
        productID: "women22",
        catagory: "Casual",
        img: "https://m.media-amazon.com/images/I/61iqda1lr1S._AC_UL480_FMwebp_QL65_.jpg",
    },
    {
        brand: "Puma",
        name: "woman cotton off white",
        price: "456",
        size: "XXL",
        productID: "women23",
        catagory: "festive",
        img: "https://m.media-amazon.com/images/I/71VdBnVMsQL._AC_UL480_FMwebp_QL65_.jpg",
    },
    {
        brand: "Gap",
        name: "woman cotton off white",
        price: "986",
        size: "S,X,L",
        productID: "women24",
        catagory: "party",
        img: "https://m.media-amazon.com/images/I/61g6wzp2ndL._AC_UL480_FMwebp_QL65_.jpg",
    },
    {
        brand: "Kaniroot",
        name: "chill pill supersoft",
        price: "567",
        size: "S,XXL,XX",
        productID: "women25",
        catagory: "formal",
        img: "https://m.media-amazon.com/images/I/71zeY2Ha3sL._AC_UL480_FMwebp_QL65_.jpg",
    },
];

let container = document.getElementById("container");
let filter=document.getElementById("filter");
let filterbrand=document.getElementById("filterbrand")
let search=document.getElementById("search");
let sort=document.getElementById("sort");
let cart = document.querySelector("#cart");
let cartLS = JSON.parse(localStorage.getItem("cart-page")) || [];

function display(data) {
    container1.innerHTML=null;
    data.forEach(function (ele) {
        let product = document.createElement("div");

        let img = document.createElement("img");
        img.src = ele.img;

        let name = document.createElement("h3");
        name.innerText = ele.name;

        let price = document.createElement("p");
        price.innerText = "$" + ele.price;

        let brand = document.createElement("p");
        brand.innerText = ele.brand;

        let size = document.createElement("h2");
        size.innerText = ele.size;

        let catagory = document.createElement("p");
        catagory.innerText = ele.catagory;

        let cart = document.createElement("button");
        cart.setAttribute("id","cartbtn")
        cart.innerText = "Add To Cart";
        cart.addEventListener("click", function () {
            AddToCart(ele);
        })

        product.append(img, name, price, size, catagory, cart);

        container1.append(product);
    });
}
display(productData)

function AddToCart(product) {
    for (let i = 0; i < cartLS.length; i++) {
        if (cartLS[i].productID === product.productID) {
            alert("Product already in the Cart");
            return;
        }
    }
    cartLS.push(product);
    alert("Product Added Successfully");
    localStorage.setItem("cart-page", JSON.stringify(cartLS));

}
cart.addEventListener("click", function () {
    window.location.href = "./cart.html"
});

// search and filter part

filter.addEventListener("change", function () {
    if(filter.value===""){
        display(productData)
    }else{
        let filtered=productData.filter(function(ele){
            return ele.catagory===filter.value;
        })
        display(filtered)
    }
   
  });
  filterbrand.addEventListener("change",function(ele){
    if(filterbrand.value===""){
        display(productData)
    }else{
        let filtered1=productData.filter(function(ele){
            return ele.brand.toLocaleLowerCase().includes(filterbrand.value.toLocaleLowerCase())
        })
        display(filtered1)
    }
  })

  search.addEventListener("input", function () {
    if (search.value === null || search.value === "") {
        display(productData)
    } else {
       let  productData2 = productData.filter(function (ele) {
        return ele.brand
          .toLocaleLowerCase()
          .includes(search.value.toLocaleLowerCase());
      });
      display(productData2);
    }
  });
//   sorting

sort.addEventListener("change",function(){
    if(sort.value===""){
        display(productData)
    }else{
        let productData2=productData.map(function(ele){
            return ele;
        })
        let sorted=productData2.sort(function(a,b){
            if(sort.value==="Low-High"){
                return a.price-b.price;
            }else if(sort.value==="High-Low"){
                return b.price-a.price;
            }
        })
        display(sorted)
    }
})
